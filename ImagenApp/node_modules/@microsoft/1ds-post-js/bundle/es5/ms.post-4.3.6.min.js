/*!
 * 1DS JS SDK POST plugin, 4.3.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 * (Microsoft Internal Only)
 */
!function(n,t){var e="undefined";if("object"==typeof exports&&typeof module!=e)t(exports);else if("function"==typeof define&&define.amd)define(["exports"],t);else{var r,i,n=typeof globalThis!=e?globalThis:n||self,o={},u="__ms$mod__",a={},c=a.es5_ms_post_4_3_6={},f="4.3.6",l="oneDS4",s=(s=n)[l]=s[l]||{},d=(d=n)[l="oneDS"]=d[l]||{},n=s[u]=s[u]||{},v=n.v=n.v||[],l=d[u]=d[u]||{},p=l.v=l.v||[];for(i in(l.o=l.o||[]).push(a),t(o),o)r="x",s[i]=o[i],v[i]=f,typeof d[i]==e?(r="n",(d[i]=o[i])&&(p[i]=f)):p[i]||(p[i]="---"),(c[r]=c[r]||[]).push(i)}}(this,function(a){"use strict";var Pn="REAL_TIME",R="object",sn="undefined",c="prototype",f=Object,n=f[c];function l(n,t){return n||t}function t(n,t){return n[t]}var g=undefined,m=null,s="",v="function",y="object",C="prototype",T="__proto__",E="undefined",P="constructor",k="Symbol",A="_polyfill",B="length",I="name",b="call",D="toString",i=l(Object),M=t(i,C),e=l(String),r=t(e,C),o=l(Math),N=l(Array),L=t(N,C),K=t(L,"slice");function _(n,t){try{return{v:n.apply(this,t)}}catch(e){return{e:e}}}function H(t){return function(n){return typeof n===t}}function un(n){return typeof n===E||n===E}function an(n){return n===m||un(n)}function F(n){return!!n||n!==g}var On=H("string"),O=H(v);function Rn(n){return(n||!an(n))&&n&&typeof n===y}var pn=t(N,"isArray"),z=H("number"),U=H("boolean");function kn(n){return n&&n.then&&O(n.then)}var q=t(i,"getOwnPropertyDescriptor");function p(n,t){return!!n&&M.hasOwnProperty[b](n,t)}var j=l(t(i,"hasOwn"),X);function X(n,t){return p(n,t)||!!q(n,t)}function hn(n,t,e){if(n&&Rn(n))for(var r in n)if(j(n,r)&&-1===t[b](e||n,r,n[r]))break}var V={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"},J=t(i,"defineProperty");function $(n,t,e){return J(n,t,(r=e,(i={})[V.c]=!0,i[V.e]=!0,r.l&&(i.get=function(){return r.l.v},(n=q(r.l,"v"))&&n.set&&(i.set=function(n){r.l.v=n})),hn(r,function(n,t){i[V[n]]=F(t)?t:i[V[n]]}),i));var r,i}function W(n,e,r,t){var i={};return hn(n,function(n,t){Q(i,n,e?t:n),Q(i,t,r?t:n)}),t?t(i):i}function Q(n,t,e){J(n,t,{value:e,enumerable:!0,writable:!1})}var G=l(e),Y="[object Error]";function cn(n,t){var e=s,r=M[D][b](n);r===Y&&(n={stack:G(n.stack),message:G(n.message),name:G(n.name)});try{e=((e=JSON.stringify(n,m,t?"number"==typeof t?t:4:g))?e.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):m)||G(n)}catch(i){e=" - "+cn(i,t)}return r+": "+e}function Z(n){throw new TypeError(n)}var nn=t(i,"freeze");function tn(n){return n}function en(n){return n[T]||m}var rn=t(i,"assign"),dn=t(i,"keys"),on=l(nn,tn),vn=l(t(i,"getPrototypeOf"),en);function An(n){return W(n,0,0,on)}var Bn,In=An({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Dn="__tsUtils$gblCfg";function Mn(){var n;return(n=(n=(n=typeof globalThis!==E?globalThis:n)||typeof self===E?n:self)||typeof window===E?n:window)||typeof global===E?n:global}function Nn(){var n;return Bn||(n=_(Mn).v||{},Bn=n[Dn]=n[Dn]||{}),Bn}function Ln(r,n,i){var o=n?n[r]:m;return function(n){var t,e=(n?n[r]:m)||o;if(e||i)return t=arguments,(e||i).apply(n,e?K[b](t,1):t);Z('"'+G(r)+'" not defined for '+cn(n))}}var Kn=t(o,"min"),Hn=t(o,"max"),Fn=Ln("slice",r),zn=Ln("substring",r),Un=Ln("substr",r,qn);function qn(n,t,e){return an(n)&&Z("Invalid "+cn(n)),e<0?s:((t=t||0)<0&&(t=Hn(t+n[B],0)),un(e)?Fn(n,t):Fn(n,t,t+e))}var jn,Xn,u;function Vn(n){var t={description:G(n),toString:function(){return k+"("+n+")"}};return t[A]=!0,t}function Jn(){u=Nn()}function w(n){return J({toJSON:function(){return n}},"v",{value:n})}var $n,Wn="window";function Qn(n,t){var e;return function(){return u||Jn(),(e=e&&!u.lzy?e:w(_(n,t).v)).v}}function Gn(n){return u||Jn(),($n=$n&&!1!==n&&!u.lzy?$n:w(_(Mn).v||m)).v}function yn(n,t){t=$n&&!1!==t?$n.v:Gn(t);if(t&&t[n])return t[n];if(n===Wn)try{return window}catch(e){}return m}var Yn,Zn,nt,tt=Qn(yn,["document"]),et=Qn(yn,[Wn]),rt=Qn(yn,["navigator"]),it=Qn(function(){return!!_(function(){return process&&(process.versions||{}).node}).v});function ot(){return Yn=w(_(yn,[k]).v)}function ut(n){var t=(u.lzy?0:Yn)||ot();return t.v?t.v[n]:g}function at(){return u||Jn(),((u.lzy?0:Yn)||ot()).v}function ct(n,t){var e=In[n],r=(u||Jn(),(u.lzy?0:Yn)||ot());return r.v?r.v[e||n]:t?g:(Xn=Xn||{},(e=In[n])?Xn[e]=Xn[e]||Vn(k+"."+e):void 0)}function ft(n,t){u||Jn();var e=(u.lzy?0:Yn)||ot();return e.v?e.v(n):t?m:Vn(n)}function lt(n){return u||Jn(),((Zn=(u.lzy?0:Zn)||w(_(ut,["for"]).v)).v||function(n){jn||(r=Nn(),jn=r.gblSym=r.gblSym||{k:{},s:{}});var t,e,r=jn;return j(r.k,n)||(t=Vn(n),e=dn(r.s).length,t._urid=function(){return e+"_"+t[D]()},r.k[n]=t,r.s[t._urid()]=G(n)),r.k[n]})(n)}function st(n){return n&&O(n.next)}function dt(n,t,e){if(n&&(st(n)||(n=n[(nt=nt||w(ct(3))).v]?n[nt.v]():m),st(n))){var r=g,i=g;try{for(var o=0;!(i=n.next()).done&&-1!==t[b](e||n,i.value,o,n);)o++}catch(u){r={e:u},n["throw"]&&(i=m,n["throw"](r))}finally{try{i&&!i.done&&n["return"]&&n["return"](i)}finally{if(r)throw r.e}}}}function vt(n,t,e){return n.apply(t,e)}function pt(t,n){!un(n)&&t&&(pn(n)?vt(t.push,t,n):st(n)||n!==m&&F(n)&&O(n[ct(3)])?dt(n,function(n){t.push(n)}):t.push(n))}function gn(n,t,e){if(n)for(var r=n[B]>>>0,i=0;i<r&&!(i in n&&-1===t[b](e||n,n[i],i,n));i++);}var ht,yt=Ln("indexOf",L),gt=l(t(i,"create"),mt);function mt(n){if(!n)return{};var t=typeof n;function e(){}return t!==y&&t!=v&&Z("Prototype must be an Object or function: "+cn(n)),e[C]=n,new e}function bt(n,t){return(i.setPrototypeOf||function(e,n){var t;(ht=ht||w(((t={})[T]=[],t instanceof Array))).v?e[T]=n:hn(n,function(n,t){return e[n]=t})})(n,t)}function _t(n,t){t&&(n[I]=t)}function wt(){return(Date.now||function(){return(new Date).getTime()})()}function St(t){return function(n){return an(n)&&Z("strTrim called ["+cn(n)+"]"),n&&n.replace?n.replace(t,s):n}}var xt,Ct,Tt,Et=Ln("trim",r,St(/^\s+|(?=\s)\s+$/g)),Pt=t(o,"floor"),Ot=t(o,"ceil");function Rt(n){if(!n||typeof n!==y)return!1;var t=!1;if(n!==(Tt=Tt||et()||!0)){Ct||(xt=Function[C][D],Ct=xt[b](i));try{var e=vn(n),t=(t=!e)||!(!(e=p(e,P)?e[P]:e)||typeof e!=v||xt[b](e)!==Ct)}catch(r){}}return t}var kt=Ln("indexOf",r),At=Ln("startsWith",r,Bt);function Bt(n,t,e){On(n)||Z("'"+cn(n)+"' is not a string");t=On(t)?t:G(t),e=0<e?e:0;return zn(n,e,e+t[B])===t}var It="unref";function Dt(n,t,e){var r,i,o,u,a,c=pn(t),f=c?t.length:0,l=(0<f?t[0]:c?g:t)||setTimeout,s=(1<f?t[1]:g)||clearTimeout,d=e[0],v=(e[0]=function(){v.dn(),vt(d,g,K[b](arguments))},r=function(n){if(n){if(n.refresh)return n.refresh(),n;vt(s,g,[n])}return vt(l,g,e)},i=function(n){vt(s,g,[n])},u=!0,a=n?r(m):m,(o={cancel:h,refresh:y,hasRef:function(){return a&&a.hasRef?a.hasRef():u},ref:function(){return u=!0,a&&a.ref&&a.ref(),o}})[It]=p,{h:o=J(o,"enabled",{get:function(){return!!a},set:function(n){!n&&a&&h(),n&&!a&&y()}}),dn:function(){a=m}});function p(){return u=!1,a&&a[It]&&a[It](),o}function h(){a&&i(a),a=m}function y(){return a=r(a),u||p(),o}return v.h}function Mt(){return Dt(!0,g,K[b](arguments))}(Gn()||{}).Symbol,(Gn()||{}).Reflect;var Nt=function(n,t){return(Nt=f.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])})(n,t)},Lt="constructor",Kt="prototype",Ht="function",Ft="_dynInstFuncs",zt="_isDynProxy",Ut="_dynClass",qt="_dynInstChk",jt=qt,Xt="_dfOpts",Vt="_unknown_",Jt="__proto__",$t="_dyn"+Jt,N="__dynProto$Gbl",Wt="_dynInstProto",Qt="useBaseInst",Gt="setInstFuncs",Yt=Object,Zt=Yt.getPrototypeOf,ne=Yt.getOwnPropertyNames,e=Gn(),te=e[N]||(e[N]={o:((L={})[Gt]=!0,L[Qt]=!0,L),n:1e3});function ee(n){return n&&(n===Yt[Kt]||n===Array[Kt])}function re(n){return ee(n)||n===Function[Kt]}function ie(n){if(n){if(Zt)return Zt(n);var t=n[Jt]||n[Kt]||(n[Lt]?n[Lt][Kt]:null),e=n[$t]||t;p(n,$t)||(delete n[Wt],e=n[$t]=n[Wt]||n[$t],n[Wt]=t)}return e}function oe(n,t){var e=[];if(ne)e=ne(n);else for(var r in n)"string"==typeof r&&p(n,r)&&e.push(r);if(e&&0<e.length)for(var i=0;i<e.length;i++)t(e[i])}function ue(n,t,e){return t!==Lt&&typeof n[t]===Ht&&(e||p(n,t))&&t!==Jt&&t!==Kt}function ae(n){Z("DynamicProto: "+n)}function ce(n,t){for(var e=n.length-1;0<=e;e--)if(n[e]===t)return 1}function fe(n,t){return p(n,Kt)?n.name||t||Vt:((n||{})[Lt]||{}).name||t||Vt}function mn(n,r,t,e){p(n,Kt)||ae("theClass is an invalid class definition.");var i,o,u,a,c,f,l=n[Kt],s=(function(n){if(!Zt)return 1;for(var t=[],e=ie(r);e&&!re(e)&&!ce(t,e);){if(e===n)return 1;t.push(e),e=ie(e)}}(l)||ae("["+fe(n)+"] not in hierarchy of ["+fe(r)+"]"),null),n=(p(l,Ut)?s=l[Ut]:(s="_dynCls$"+fe(n,"_")+"$"+te.n,te.n++,l[Ut]=s),mn[Xt]),d=!!n[Qt],v=(d&&e&&e[Qt]!==undefined&&(d=!!e[Qt]),i=r,o=gt(null),oe(i,function(n){!o[n]&&ue(i,n,!1)&&(o[n]=i[n])}),o),d=(t(r,function(n,t,e,o){function r(n,t,e){var r,i=t[e];return i[zt]&&o&&!1!==(r=n[Ft]||{})[jt]&&(i=(r[t[Ut]]||{})[e]||i),function(){return i.apply(n,arguments)}}for(var i=gt(null),u=(oe(e,function(n){i[n]=r(t,e,n)}),ie(n)),a=[];u&&!re(u)&&!ce(a,u);)oe(u,function(n){!i[n]&&ue(u,n,!Zt)&&(i[n]=r(t,u,n))}),a.push(u),u=ie(u);return i}(l,r,v,d)),!!Zt&&!!n[Gt]);u=l,t=s,a=r,c=v,n=!1!==(d=d&&e?!!e[Gt]:d),ee(u)||ee(l=a[Ft]=a[Ft]||gt(null))||(f=l[t]=l[t]||gt(null),!1!==l[jt]&&(l[jt]=!!n),ee(f)||oe(a,function(n){var e,r,i;ue(a,n,!1)&&a[n]!==c[n]&&(f[n]=a[n],delete a[n],p(u,n)&&(!u[n]||u[n][zt])||(u[n]=(e=u,r=n,(i=function(){var n,t;return(function(n,t,e,r){var i=null;if(n&&p(e,Ut)){var o=n[Ft]||gt(null);if((i=(o[e[Ut]]||gt(null))[t])||ae("Missing ["+t+"] "+Ht),!i[qt]&&!1!==o[jt]){for(var u=!p(n,t),a=ie(n),c=[];u&&a&&!re(a)&&!ce(c,a);){var f=a[t];if(f){u=f===r;break}c.push(a),a=ie(a)}try{u&&(n[t]=i),i[qt]=1}catch(l){o[jt]=!1}}}return i}(this,r,e,i)||(typeof(t=(t=e[n=r])===i?ie(e)[n]:t)!==Ht&&ae("["+n+"] is not a "+Ht),t)).apply(this,arguments)})[zt]=1,i)))}))}mn[Xt]=te.o;var le,se=W({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5},1,0,on),de="toLowerCase",bn="length",ve="warnToConsole",pe="throwInternal",he="watch",ye="apply",S="push",ge="splice",me="logger",be="initialize",_e="identifier",we="isInitialized",Se="getPlugin",xe="processNext",Ce="createNew",Te="teardown",Ee="messageId",Pe="message",Oe="diagLog",Re="_doTeardown",ke="update",Ae="getNext",Be="setNextPlugin",Ie="userAgent",De="split",Me="replace",Ne="type",Le="evtName",Ke="status",He="getAllResponseHeaders",Fe="isChildEvt",ze="data",Ue="getCtx",qe="setCtx",je="urlString",Xe="headers",Ve="timeout",Je="Promise",$e="rejected";function We(n,t){Qe(n,function(n){return t?t({status:"fulfilled",rejected:!1,value:n}):n},function(n){return t?t({status:$e,rejected:!0,reason:n}):n})}function Qe(n,t,e,r){var i,o=n;try{if(kn(n))(t||e)&&(o=n.then(t,e));else try{t&&(o=t(n))}catch(u){if(!e)throw u;o=e(u)}}finally{r&&(n=o,(i=r)&&(kn(n)?n["finally"]?n["finally"](i):n.then(function(n){return i(),n},function(n){throw i(),n}):i()))}}var Ge,Ye,Ze,nr,tr=["pending","resolving","resolved",$e],er="dispatchEvent";function rr(n){var t;return!!(t=n&&n.createEvent?n.createEvent("Event"):t)&&t.initEvent}function ir(n){return O(n)?n.toString():cn(n)}function or(n,t,e){var a,o,r=function(n){return((n?n.slice:m)||K).apply(n,K[b](arguments,1))}(arguments,3),c=0,f=!1,l=[],s=!1,i=null;function u(o,u){return s=!0,i&&i.cancel(),i=null,n(function(r,i){l.push(function(){try{var n=2===c?o:u,t=un(n)?a:O(n)?n(a):n;kn(t)?t.then(r,i):(n||3!==c?r:i)(t)}catch(e){i(e)}}),f&&v()},r)}function d(){return tr[c]}function v(){var n;0<l.length&&(n=l.slice(),l=[],s=!0,i&&i.cancel(),i=null,t(n))}function p(t,e){return function(n){if(c===e){if(2===t&&kn(n))return c=1,void n.then(p(2,1),p(3,1));c=t,f=!0,a=n,v(),s||3!==t||i||(i=Mt(h,10))}}}function h(){var n,t,e,r,i;s||(s=!0,it()?process.emit("unhandledRejection",a,o):(n=et()||Gn(),t="unhandledrejection",r=function(n){return $(n,"promise",{g:function(){return o}}),n.reason=a,n},e=!!(Ye=Ye||w(_(yn,[Je+"RejectionEvent"]).v)).v,i=tt(),r(i=(Ge=Ge||w(!!_(rr,[i]).v)).v?i.createEvent("Event"):e?new Event(t):{}),Ge.v&&i.initEvent(t,!1,!0),i&&n[er]?n[er](i):(e=n["on"+t])?e(i):(r=yn("console"))&&(r.error||r.log)(t,cn(i))))}J(o={then:u,"catch":function(n){return u(undefined,n)},"finally":function(t){var n=t,e=t;return O(t)&&(n=function(n){return t&&t(),n},e=function(n){throw t&&t(),n}),u(n,e)}},"state",{get:d}),at()&&(o[ct(11)]="IPromise"),o.toString=function(){return"IPromise "+d()+(f?" - "+ir(a):"")},O(e)||Z(Je+": executor is not a function - "+ir(e));var y=p(3,0);try{e.call(o,p(2,0),y)}catch(g){y(g)}return o}function ur(n,t){return or(ur,(r=z(e=t)?e:0,function(n){Mt(function(){gn(n,function(n){try{n()}catch(t){}})},r)}),n,t);var e,r}function ar(n,t){var e=(Ze=Ze||w(_(yn,[Je]).v||null)).v;if(!e)return ur(n);O(n)||Z(Je+": executor is not a function - "+cn(n));var r=0,e=new e(function(t,e){n(function(n){r=2,t(n)},function(n){r=3,e(n)})});return J(e,"state",{get:function(){return tr[r]}}),e}function cr(n,t){return(nr=nr||w(ar)).v.call(this,n,t)}var fr=undefined,d="",h="core",lr="disabled",sr="extensionConfig",dr="processTelemetry",vr="priority",pr="getPerfMgr",hr="Not dynamic - ",yr=/-([a-z])/g,gr=/([^\w\d_$])/g,mr=/^(\d+[\w\d_$])/;function br(n){return n&&On(n)?(n=(n=n[Me](yr,function(n,t){return t.toUpperCase()}))[Me](gr,"_"))[Me](mr,function(n,t){return"_"+t}):n}function _r(n,t){return!(!n||!t)&&-1!==kt(n,t)}function wr(n,t,e,r,i){var o,u,a;n&&t&&e&&(!1===i&&!un(n[t])||(n[t]=(o=r,a=u=null,O(i=e)?u=i:a=i,function(){var n=arguments;if(a=u?u():a)return a[o][ye](a,n)})))}function Sr(n){return n&&rn?f(rn({},n)):n}function xr(n){try{return n.responseText}catch(t){}return null}function Cr(n,t){return n?"XMLHttpRequest,Status:"+n[Ke]+",Response:"+xr(n)||n.response||"":t}function Tr(n,t){return t&&(z(t)?n=[t].concat(n):pn(t)&&(n=t.concat(n))),n}var Er="withCredentials";function Pr(n,t,e){return!n[e]&&t&&t.getResponseHeader&&(t=t.getResponseHeader(e))&&(n[e]=Et(t)),n}var Or="kill-duration",Rr="kill-duration-seconds",kr="time-delta-millis";function Ar(n,t){var e,r,i={};return n[He]?(e=n[He](),r={},On(e)&&gn(Et(e)[De](/[\r\n]+/),function(n){var t,e;n&&(-1!=(e=n.indexOf(": "))?(t=Et(n.substring(0,e))[de](),e=Et(n.substring(1+e)),r[t]=e):r[Et(n)]=1)}),i=r):t&&(i=Pr(i,n,kr),i=Pr(i,n,Or),i=Pr(i,n,Rr)),i}var Br="console",Ir="JSON",Dr="ReactNative",Mr="XMLHttpRequest",Nr=null,Lr=null,Kr=null,Hr=null;function Fr(n,t){var e,r=!1;if(n){try{(r=t in n)||(e=n[c])&&(r=t in e)}catch(i){}if(!r)try{r=!un((new n)[t])}catch(i){}}return r}function zr(){return typeof JSON===R&&JSON||null!==yn(Ir)}function Ur(){var n=rt();return n&&n.product&&n.product===Dr}function qr(n){return Hr=null!==Hr&&!1!==n?Hr:!!rt()&&!!rt().sendBeacon}function jr(n){var t=!1;try{var t=!!yn("fetch"),e=yn("Request");t&&n&&e&&(t=Fr(e,"keepalive"))}catch(r){}return t}function Xr(){var n=!1;try{n=!!yn(Mr)}catch(t){}return n}var Vr=4294967296,Jr=4294967295,$r=123456789,Wr=987654321,Qr=!1,Gr=$r,Yr=Wr;function Zr(n){var t,e=0,r=yn("crypto")||yn("msCrypto");if(0===(e=r&&r.getRandomValues?r.getRandomValues(new Uint32Array(1))[0]&Jr:e)&&(!(r=rt())||r[Ie]===Lr&&null!==Nr||(r=((Lr=r[Ie])||d)[de](),Nr=_r(r,"msie")||_r(r,"trident/")),Nr)){if(!Qr)try{var i=2147483647&wt();(t=(Math.random()*Vr^i)+i)<0&&(t>>>=0),Gr=$r+t&Jr,Yr=Wr-t&Jr,Qr=!0}catch(o){}r=((Yr=36969*(65535&Yr)+(Yr>>16)&Jr)<<16)+(65535&(Gr=18e3*(65535&Gr)+(Gr>>16)&Jr))>>>0&Jr|0,e=(r>>>=0)&Jr}return 0===e&&(e=Pt(Vr*Math.random()|0)),n||(e>>>=0),e}var ni="3.3.6",ti="."+function(n){void 0===n&&(n=22);for(var t=Zr()>>>0,e=0,r=d;r[bn]<n;)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t]||"",t>>>=6,5==++e&&(t=(Zr()<<2&4294967295|3&t)>>>0,e=0);return r}(6),ei=0;function ri(n){return 1===n.nodeType||9===n.nodeType||!+n.nodeType}function ii(n,t){return br(n+ei+++((t=void 0!==t&&t)?"."+ni:d)+ti)}function oi(n){var o={id:ii("_aiData-"+(n||d)+"."+ni),accept:ri,get:function(n,t,e,r){var i=n[o.id];return i?i[br(t)]:(r&&((i=function(n,t){var e=t[n.id];if(!e){e={};try{ri(t)&&$(t,n.id,{e:!1,v:e})}catch(r){}}return e}(o,n))[br(t)]=e),e)},kill:function(n,t){if(n&&n[t])try{delete n[t]}catch(e){}}};return o}function ui(n){return n&&Rn(n)&&(n.isVal||n.fb||j(n,"v")||j(n,"mrg")||j(n,"ref")||n.set)}function ai(n,t,e){var r,i=e.dfVal||F;if(t&&e.fb){var o=e.fb;pn(o)||(o=[o]);for(var u=0;u<o[bn];u++){var a=o[u],c=t[a];if(i(c)?r=c:n&&(i(c=n.cfg[a])&&(r=c),n.set(n.cfg,G(a),c)),i(r))break}}return!i(r)&&i(e.v)?e.v:r}function ci(e,n,t,r){var i,o,u,a,c,f,l=r,l=ui(l)?(i=l.isVal,o=l.set,c=l.rdOnly,s=l.blkVal,u=l.mrg,!(a=l.ref)&&un(a)&&(a=!!u),ai(e,n,l)):r,r=(s&&e.blkVal(n,t),!0),s=n[t];!s&&an(s)||(f=s,r=!1,i&&f!==l&&!i(f)&&(f=l,r=!0),o&&(r=(f=o(f,l,n))===l)),r?f=l&&function d(e,r,n){var i,t=n;return(t=n&&ui(n)?ai(e,r,n):t)&&(ui(t)&&(t=d(e,r,t)),pn(t)?(i=[])[bn]=t[bn]:Rt(t)&&(i={}),i&&(hn(t,function(n,t){t&&ui(t)&&(t=d(e,r,t)),i[n]=t}),t=i)),t}(e,n,l):(Rt(f)||pn(l))&&u&&l&&(Rt(l)||pn(l))&&hn(l,function(n,t){ci(e,f,n,t)}),e.set(n,t,f),a&&e.ref(n,t),c&&e.rdOnly(n,t)}var fi=lt("[[ai_dynCfg_1]]"),li=lt("[[ai_blkDynCfg_1]]"),si=lt("[[ai_frcDynCfg_1]]");function di(n,t,e){var r=!1;return!e||n[t.blkVal]||(r=e[si])||e[li]?r:Rt(e)||pn(e)}function vi(n){Z("InvalidAccess:"+n)}var pi=["push","pop","shift","unshift","splice"],hi=function(n,t,e,r){n&&n[pe](3,108,"".concat(e," [").concat(t,"] failed - ")+cn(r))};function yi(n,t){n=q(n,t);return n&&n.get}function gi(i,o,u,a){var c={n:u,h:[],trk:function(n){n&&n.fn&&(-1===yt(c.h,n)&&c.h[S](n),i.trk(n,c))},clr:function(n){n=yt(c.h,n);-1!==n&&c.h[ge](n,1)}},f=!0,l=!1;function s(){f&&(l=l||di(s,i,a),a&&!a[fi]&&l&&(a=_i(i,a,u,"Converting")),f=!1);var n=i.act;return n&&c.trk(n),a}s[i.prop]={chng:function(){i.add(c)}},$(o,c.n,{g:s,s:function(t){if(a!==t){s[i.ro]&&!i.upd&&vi("["+u+"] is read-only:"+cn(o)),f&&(l=l||di(s,i,a),f=!1);var n,e=l&&s[i.rf];if(l)if(e){hn(a,function(n){a[n]=t?t[n]:fr});try{hn(t,function(n,t){mi(i,a,n,t)}),t=a}catch(r){hi((i.hdlr||{})[me],u,"Assigning",r),l=!1}}else a&&a[fi]&&hn(a,function(n){var n=yi(a,n);n&&(n=n[i.prop])&&n.chng()});t!==a&&(n=t&&di(s,i,t),!e&&n&&(t=_i(i,t,u,"Converting")),a=t,l=n),i.add(c)}}})}function mi(n,t,e,r){var i;return t&&((i=yi(t,e))&&i[n.prop]?t[e]=r:gi(n,t,e,r)),t}function bi(n,t,e,r){if(t){var i=yi(t,e),o=i&&!!i[n.prop],u=r&&r[0],a=r&&r[1],r=r&&r[2];if(!o){if(r)try{var c=t;if(c&&(Rt(c)||pn(c)))try{c[li]=!0}catch(f){}}catch(l){hi((n.hdlr||{})[me],e,"Blocking",l)}try{mi(n,t,e,t[e]),i=yi(t,e)}catch(l){hi((n.hdlr||{})[me],e,"State",l)}}u&&(i[n.rf]=u),a&&(i[n.ro]=a),r&&(i[n.blkVal]=!0)}return t}function _i(e,r,n,t){try{hn(r,function(n,t){mi(e,r,n,t)}),r[fi]||(J(r,fi,{get:function(){return e.hdlr}}),i=e,u=n,pn(o=r)&&gn(pi,function(n){var r=o[n];o[n]=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=r[ye](this,n);return _i(i,o,u,"Patching"),e}}))}catch(a){hi((e.hdlr||{})[me],n,t,a)}var i,o,u;return r}var wi="[[ai_",Si="]]";function xi(o){var u,n=ft(wi+"get"+o.uid+Si),t=ft(wi+"ro"+o.uid+Si),e=ft(wi+"rf"+o.uid+Si),r=ft(wi+"blkVal"+o.uid+Si),d=ft(wi+"dtl"+o.uid+Si),v=null,p=null;function h(t,n){var e=u.act;try{(u.act=t)&&t[d]&&(gn(t[d],function(n){n.clr(t)}),t[d]=[]),n({cfg:o.cfg,set:o.set.bind(o),setDf:o.setDf.bind(o),ref:o.ref.bind(o),rdOnly:o.rdOnly.bind(o)})}catch(i){var r=o[me];throw r&&r[pe](1,107,cn(i)),i}finally{u.act=e||null}}function y(){if(v){var e,n=v,r=(v=null,p&&p.cancel(),p=null,[]);if(gn(n,function(t){if(t&&(t[d]&&(gn(t[d],function(n){n.clr(t)}),t[d]=null),t.fn))try{h(t,t.fn)}catch(n){r[S](n)}}),v)try{y()}catch(s){r[S](s)}if(0<r[bn])throw n=r,le=le||(c=(a=Error)[C][I],f=Error.captureStackTrace,l=a,_($,[u=function(){var n=this,t=arguments;try{_(_t,[a,i]);var e,r=vt(a,n,K[b](t))||n;return r!==n&&(e=vn(n))!==vn(r)&&bt(r,e),f&&f(r,n[P]),o(r,t),r}finally{_(_t,[a,c])}},I,{v:i="AggregationError",c:!0,e:!(o=function(n,t){1<t[bn]&&(n.errors=t[1])})}]),(u=bt(u,l))[C]=l===m?gt(l):(t[C]=l[C],new t),u),e="Watcher error(s): ",gn(n,function(n,t){e+="\n".concat(t," > ").concat(cn(n))}),new le(e,n||[])}function t(){this[P]=u,_($,[this,I,{v:"AggregationError",c:!0,e:!1}])}var i,o,u,a,c,f,l}return u={prop:n,ro:t,rf:e,blkVal:r,hdlr:o,add:function(n){if(n&&0<n.h[bn]){v=v||[],p=p||Mt(function(){p=null,y()},0);for(var t=0;t<n.h[bn];t++){var e=n.h[t];e&&-1===yt(v,e)&&v[S](e)}}},notify:y,use:h,trk:function(n,t){n&&(n=n[d]=n[d]||[],-1===yt(n,t)&&n[S](t))}}}function Ci(i,t,n){var e=function(){if(t){var n=t[fi]||t;if(n.cfg&&(n.cfg===t||n.cfg[fi]===n))return n}return null}();if(e)return e;var o,e=ii("dyncfg",!0),n=t&&!1!==n?t:function u(n){var e;return n&&(pn(n)?(e=[])[bn]=n[bn]:Rt(n)&&(e={}),e)?(hn(n,function(n,t){e[n]=u(t)}),e):n}(t),r={uid:null,cfg:n,logger:i,notify:function(){o.notify()},set:function(n,t,e){try{n=mi(o,n,t,e)}catch(r){hi(i,t,"Setting value",r)}return n[t]},setDf:function(e,n){return n&&hn(n,function(n,t){ci(r,e,n,t)}),e},watch:function(n){return t=o,$(r={fn:e=n,rm:function(){r.fn=null,e=t=null}},"toJSON",{v:function(){return"WatcherHandler"+(r.fn?"":"[X]")}}),t.use(r,e),r;var t,e,r},ref:function(n,t){return bi(o,n,t,((n={})[0]=!0,n))[t]},rdOnly:function(n,t){return bi(o,n,t,((n={})[1]=!0,n))[t]},blkVal:function(n,t){return bi(o,n,t,((n={})[2]=!0,n))[t]},_block:function(e,r){o.use(null,function(n){var t=o.upd;try{un(r)||(o.upd=r),e(n)}finally{o.upd=t}})}};return $(r,"uid",{c:!1,e:!1,w:!1,v:e}),_i(o=xi(r),n,"config","Creating"),r}function Ti(n,t,e,r){e=Ci(e,n||{},r);return t&&e.setDf(e.cfg,t),e}function Ei(n,t,e){var r,i,o=n[fi]||n;return!o.cfg||o.cfg!==n&&o.cfg[fi]!==o?(r=e,i=hr+cn(n),r?(r[ve](i),r[pe](2,108,i)):vi(i),Ti(n,null,e)[he](t)):o[he](t)}var Pi="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Oi=null,Ri="warnToConsole",ki={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Ai=((o={})[0]=null,o[1]="errorToConsole",o[2]=Ri,o[3]="debugToConsole",o);function Bi(n){return n?'"'+n[Me](/\"/g,d)+'"':d}function Ii(n,t){var e,r=typeof console!==sn?console:yn(Br);r&&(e="log",r[n]&&(e=n),O(r[e])&&r[e](t))}Mi.dataType="MessageData";var Di=Mi;function Mi(n,t,e,r){void 0===e&&(e=!1),this[Ee]=n,this[Pe]=(e?"AI: ":"AI (Internal): ")+n;e=d,zr()&&(e=(zr()?JSON||yn(Ir):null).stringify(r)),n=(t?" message:"+Bi(t):d)+(r?" props:"+Bi(e):d);this[Pe]+=n}function Ni(n,t){return(n||{})[me]||new Li(t)}Ki.__ieDyn=1;var Li=Ki;function Ki(i){this.identifier="DiagnosticLogger",this.queue=[];var c,f,l,s,t,d=0,v={};mn(Ki,this,function(o){function u(n,t){var e,r;l<=d||(r=!0,e="AITR_"+t[Ee],v[e]?r=!1:v[e]=!0,r&&(n<=f&&(o.queue[S](t),d++,a(1===n?"error":"warn",t)),d===l&&(r=new Di(23,e="Internal events throttle limit per PageView reached for this app.",!1),o.queue[S](r),1===n?o.errorToConsole(e):o[ve](e))))}function a(n,t){var e,r=(e=(e=Oi)||!0===(i||{}).disableDbgExt?e:Oi||(r=yn("Microsoft"),Oi=r?r.ApplicationInsights:Oi))?e.ChromeDbgExt:null;r&&r[Oe]&&r[Oe](n,t)}t=Ei(Ti(i||{},ki,o).cfg,function(n){n=n.cfg;c=n.loggingLevelConsole,f=n.loggingLevelTelemetry,l=n.maxMessageLimit,s=n.enableDebug}),o.consoleLoggingLevel=function(){return c},o[pe]=function(n,t,e,r,i){t=new Di(t,e,i=void 0!==i&&i,r);if(s)throw cn(t);e=Ai[n]||Ri;un(t[Pe])?a("throw"+(1===n?"Critical":"Warning"),t):(i?(r=+t[Ee],!v[r]&&n<=c&&(o[e](t[Pe]),v[r]=!0)):n<=c&&o[e](t[Pe]),u(n,t))},o.debugToConsole=function(n){Ii("debug",n),a("warning",n)},o[ve]=function(n){Ii("warn",n),a("warning",n)},o.errorToConsole=function(n){Ii("error",n),a("error",n)},o.resetInternalMessageCount=function(){d=0,v={}},o.logInternalMessage=u,o.unload=function(n){t&&t.rm(),t=null}})}function Hi(n){return n||new Li}function _n(n,t,e,r,i,o){void 0===o&&(o=!1),Hi(n)[pe](t,e,r,i,o)}function Fi(n,t){Hi(n)[ve](t)}var zi="ParentContextKey",Ui="ChildrenContextKey",qi=(ji.ParentContextKey="parent",ji.ChildrenContextKey="childEvts",ji);function ji(n,t,e){var r,i=this;i.start=wt(),i.name=n,i.isAsync=e,i[Fe]=function(){return!1},O(t)&&$(i,"payload",{g:function(){return!r&&O(t)&&(r=t(),t=null),r}}),i[Ue]=function(n){return n?(n===ji[zi]||n===ji[Ui]?i:i.ctx||{})[n]:null},i[qe]=function(n,t){n&&(n===ji[zi]?(i[n]||(i[Fe]=function(){return!0}),i[n]=t):n===ji[Ui]?i[n]=t:(i.ctx=i.ctx||{})[n]=t)},i.complete=function(){var n=0,t=i[Ue](ji[Ui]);if(pn(t))for(var e=0;e<t[bn];e++){var r=t[e];r&&(n+=r.time)}i.time=wt()-i.start,i.exTime=i.time-n,i.complete=function(){}}}var Xi="CoreUtils.doPerf";function wn(n,t,e,r,i){if(n)if(n=n[pr]?n[pr]():n){var o,u=void 0,a=n[Ue](Xi);try{if(u=n.create(t(),r,i))return a&&u[qe]&&(u[qe](qi[zi],a),a[Ue]&&a[qe]&&((o=a[Ue](qi[Ui]))||(o=[],a[qe](qi[Ui],o)),o[S](u))),n[qe](Xi,u),e(u)}catch(c){u&&u[qe]&&u[qe]("exception",c)}finally{u&&n.fire(u),n[qe](Xi,a)}}return e()}var Vi=oi("plugin");function Ji(n){return Vi.get(n,"state",{},!0)}var $i="TelemetryPluginChain",Wi="_hasRun",Qi="_getTelCtx",Gi=0;function Yi(n,o,e,t){var r=null,i=[],u=(o=o||Ti({},null,e[me]),null!==t&&(r=t?function(n,t,e){for(;n;){if(n[Se]()===e)return n;n=n[Ae]()}return no([e],t.config||{},t)}(n,e,t):n),{_next:function(){var n,t=r;return r=t?t[Ae]():null,t||(n=i)&&0<n[bn]&&(gn(n,function(n){try{n.func.call(n.self,n.args)}catch(t){_n(e[me],2,73,"Unexpected Exception during onComplete - "+cn(t))}}),i=[]),t},ctx:{core:function(){return e},diagLog:function(){return Ni(e,o.cfg)},getCfg:function(){return o.cfg},getExtCfg:function(n,t){var r=a(n,!0);return t&&hn(t,function(n,t){var e;!an(r[n])||!(e=o.cfg[n])&&an(e)||(r[n]=e),ci(o,r,n,t)}),o.setDf(r,t)},getConfig:function(n,t,e){void 0===e&&(e=!1);var r,n=a(n,!1),i=o.cfg;return!n||!n[t]&&an(n[t])?!i[t]&&an(i[t])||(r=i[t]):r=n[t],r||!an(r)?r:e},hasNext:function(){return!!r},getNext:function(){return r},setNext:function(n){r=n},iterate:function(n){for(;t=u._next();){var t=t[Se]();t&&n(t)}},onComplete:function(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];n&&i[S]({func:n,self:un(t)?u.ctx:t,args:e})}}});function a(n,t){var e,r=null,i=o.cfg;return i&&n&&(e=i[sr],i[sr]=e=!e&&t?{}:e,(e=o.ref(i,sr))&&(r=e[n],e[n]=r=!r&&t?{}:r,r=o.ref(e,n))),r}return u}function Zi(n,t,e,r){var i=Ti(t),o=Yi(n,i,e,r),u=o.ctx;return u[xe]=function(n){var t=o._next();return t&&t[dr](n,u),!t},u[Ce]=function(n,t){return Zi((n=pn(n=void 0===n?null:n)?no(n,i.cfg,e,t):n)||u[Ae](),i.cfg,e,t)},u}function no(n,t,e,r){var i,o=null,u=!r;return pn(n)&&0<n[bn]&&(i=null,gn(n,function(n){(u=!u&&r===n||u)&&n&&O(n[dr])&&(n=to(n,t,e),o=o||n,i&&i._setNext(n),i=n)})),r&&!o?no([r],t,e):o}function to(c,r,i){var f=null,o=O(c[dr]),u=O(c[Be]),l=c?c[_e]+"-"+c[vr]+"-"+Gi++:"Unknown-0-"+Gi++,a={getPlugin:function(){return c},getNext:function(){return f},processTelemetry:function(e,n){var t;s(n=n||(t=(t=c&&O(c[Qi])?c[Qi]():t)||Zi(a,r,i)),function(n){if(!c||!o)return!1;var t=Ji(c);return!t[Te]&&!t[lr]&&(u&&c[Be](f),c[dr](e,n),!0)},"processTelemetry",function(){return{item:e}},!e.sync)||n[xe](e)},unload:function(r,i){s(r,function(){var n,t,e=!1;return c&&(n=Ji(c),t=c[h]||n[h],!c||t&&t!==r.core()||n[Te]||(n[h]=null,n[Te]=!0,n[we]=!1,c[Te]&&!0===c[Te](r,i)&&(e=!0))),e},"unload",function(){},i.isAsync)||r[xe](i)},update:function(r,i){s(r,function(){var n,t,e=!1;return c&&(n=Ji(c),t=c[h]||n[h],!c||t&&t!==r.core()||n[Te]||c[ke]&&!0===c[ke](r,i)&&(e=!0)),e},"update",function(){},!1)||r[xe](i)},_id:l,_setNext:function(n){f=n}};function s(e,r,i,n,t){var o=!1,u=c?c[_e]:$i,a=(a=e[Wi])||(e[Wi]={});return e.setNext(f),c&&wn(e[h](),function(){return u+":"+i},function(){a[l]=!0;try{var n=f?f._id:d;n&&(a[n]=!1),o=r(e)}catch(t){n=!f||a[f._id];n&&(o=!0),f&&n||_n(e[Oe](),1,73,"Plugin ["+u+"] failed during "+i+" - "+cn(t)+", run flags: "+cn(a))}},n,t),o}return on(a)}function eo(){var t=[];return{add:function(n){n&&t[S](n)},run:function(e,r){gn(t,function(n){try{n(e,r)}catch(t){_n(e[Oe](),2,73,"Unexpected error calling unload handler - "+cn(t))}}),t=[]}}}function ro(){var t=[];return{run:function(e){var n=t;t=[],gn(n,function(n){try{(n.rm||n.remove).call(n)}catch(t){_n(e,2,73,"Unloading:"+cn(t))}})},add:function(n){n&&pt(t,n)}}}var io="getPlugin",oo=((r={})[sr]={isVal:function(n){return!an(n)},v:{}},r),N=(uo.__ieDyn=1,uo);function uo(){var i,o,l,s,d,u=this;function t(n){var t,n=n=void 0===n?null:n;return n||(t=o||Zi(null,{},u[h]),n=l&&l[io]?t[Ce](null,l[io]):t[Ce](null,l)),n}function c(n,t,e){Ti(n,oo,Ni(t)),!e&&t&&(e=t.getProcessTelContext()[Ae]());var r=l;l&&l[io]&&(r=l[io]()),u[h]=t,o=Zi(e,n,t,r)}function v(){i=!1,u[h]=null,l=o=null,d=ro(),s=eo()}v(),mn(uo,u,function(f){f[be]=function(n,t,e,r){c(n,t,r),i=!0},f[Te]=function(n,t){var e,r,i,o,u=f[h];if(u&&(!n||u===n[h]()))return r=!1,i=n||function c(n,e,t){var r=Ti(e.config),i=Yi(n,r,e,t),o=i.ctx;return o[xe]=function(n){var t=i._next();return t&&t.unload(o,n),!t},o[Ce]=function(n,t){return c((n=pn(n=void 0===n?null:n)?no(n,r.cfg,e,t):n)||o[Ae](),e,t)},o}(null,u,l&&l[io]?l[io]():l),o=t||{reason:0,isAsync:!1},f[Re]&&!0===f[Re](i,o,a)?e=!0:a(),e;function a(){r||(r=!0,s.run(i,t),d.run(i[Oe]()),!0===e&&i[xe](o),v())}},f[ke]=function(n,t){var e,r,i,o=f[h];if(o&&(!n||o===n[h]()))return r=!1,i=n||function a(n,e,t){var r=Ti(e.config),i=Yi(n,r,e,t).ctx;return i[xe]=function(t){return i.iterate(function(n){O(n[ke])&&n[ke](i,t)})},i[Ce]=function(n,t){return a((n=pn(n=void 0===n?null:n)?no(n,r.cfg,e,t):n)||i[Ae](),e,t)},i}(null,o,l&&l[io]?l[io]():l),f._doUpdate&&!0===f._doUpdate(i,t||{reason:0},u)?e=!0:u(),e;function u(){r||(r=!0,c(i.getCfg(),i.core(),i[Ae]()))}},wr(f,"_addUnloadCb",function(){return s},"add"),wr(f,"_addHook",function(){return d},"add"),$(f,"_unloadHooks",{g:function(){return d}})}),u[Oe]=function(n){return t(n)[Oe]()},u[we]=function(){return i},u.setInitialized=function(n){i=n},u[Be]=function(n){l=n},u[xe]=function(n,t){t?t[xe](n):l&&O(l[dr])&&l[dr](n,null)},u._getTelCtx=t}var ao="&NoResponseBody=true",co=(fo.__ieDyn=1,fo);function fo(){var _,i,d,w,S,o,x,v,p,h,y,C,T,E,P=0;mn(fo,this,function(e,n){var g=!0;function a(n,t){_n(d,2,26,"Failed to send telemetry.",{message:n}),b(t,400,{})}function m(n){a("No endpoint url is provided for the batch",n)}function b(n,t,e,r){try{n&&n(t,e,r)}catch(i){}}function u(n,t){var e=rt();if(!n[je])return m(t),!0;t=n[je]+(T?ao:""),n=n[ze],n=w?n:new Blob([n],{type:"text/plain;charset=UTF-8"});return e.sendBeacon(t,n)}function c(n,t,e){var r,i=n[ze];try{i&&(u(n,t)?b(t,200,{},""):(r=S&&S.beaconOnRetry)&&O(r)?r(n,t,u):(v&&v.sendPOST(n,t,!0),_n(d,2,40,". Failed to send telemetry with Beacon API, retried with normal sender.")))}catch(o){w&&Fi(d,"Failed to send telemetry using sendBeacon API. Ex:"+cn(o)),b(t,w?0:400,{},"")}}function f(e,r,n){var t,i,o,u=e[Xe]||{},a=(!n&&_&&(t=cr(function(n,t){i=n,o=t})),w&&n&&e.disableXhrSync&&(n=!1),e[je]);if(!a)return m(r),void(i&&i(!1));a=a,c=g,n=n,l=e[Ve],f=!0,void 0===n&&(n=!1),s=new XMLHttpRequest,f&&v(s,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation",f),c&&v(s,Er,c),s.open("POST",a,!n),c&&v(s,Er,c),!n&&l&&v(s,"timeout",l);var c,f,l,s,d=s;function v(n,t,e){try{n[t]=e}catch(r){}}function p(n){var t=S&&S.xhrOnComplete;t&&O(t)?t(n,r,e):(t=xr(n),b(r,n[Ke],Ar(n,w),t))}return w||d.setRequestHeader("Content-type","application/json"),gn(dn(u),function(n){d.setRequestHeader(n,u[n])}),d.onreadystatechange=function(){w||(p(d),4===d.readyState&&i&&i(!0))},d.onload=function(){w&&p(d)},d.onerror=function(n){b(r,w?d[Ke]:400,Ar(d,w),w?"":Cr(d)),o&&o(n)},d.ontimeout=function(){b(r,w?d[Ke]:500,Ar(d,w),w?"":Cr(d)),i&&i(!1)},d.send(e[ze]),t}function l(e,o,r){var n,i,u,t=e[je],a=e[ze],c=w?a:new Blob([a],{type:"application/json"}),f=new Headers,l=a[bn],a=!1,s=!1,d=e[Xe]||{},v=((c={method:"POST",body:c})[Pi]=!0,e.headers&&0<dn(e.headers)[bn]&&(gn(dn(d),function(n){f.append(n,d[n])}),c[Xe]=f),x?c.credentials=x:g&&w&&(c.credentials="include"),r&&(c.keepalive=!0,P+=l,w?2===e._sendReason&&(a=!0,T&&(t+=ao)):a=!0),new Request(t,c));try{v[Pi]=!0}catch(y){}if(!r&&_&&(n=cr(function(n,t){i=n,u=t})),!t)return m(o),void(i&&i(!1));function p(n){b(o,w?0:400,{},w?"":n)}function h(n,t,e){var r=n[Ke],i=S.fetchOnComplete;i&&O(i)?i(n,o,e||"",t):b(o,r,{},e||"")}try{We(fetch(w?t:v,w?c:null),function(n){if(r&&(P-=l,l=0),!s)if(s=!0,n.rejected)p(n.reason&&n.reason[Pe]),u&&u(n.reason);else{var t=n.value;try{w||t.ok?w&&!t.body?(h(t,null,""),i&&i(!0)):We(t.text(),function(n){h(t,e,n.value),i&&i(!0)}):(p(t.statusText),i&&i(!1))}catch(y){p(cn(y)),u&&u(y)}}})}catch(y){s||(p(cn(y)),u&&u(y))}return a&&!s&&(s=!0,b(o,200,{}),i&&i(!0)),w&&!s&&0<e[Ve]&&E&&E.set(function(){s||(s=!0,b(o,500,{}),i&&i(!0))},e[Ve]),n}function s(e,r,n){var t=et(),i=new XDomainRequest,o=e[ze],t=(i.onload=function(){var n=xr(i),t=S&&S.xdrOnComplete;t&&O(t)?t(i,r,e):b(r,200,{},n)},i.onerror=function(){b(r,400,{},w?"":i?"XDomainRequest,Response:"+xr(i)||"":void 0)},i.ontimeout=function(){b(r,500,{})},i.onprogress=function(){},t&&t.location&&t.location.protocol||""),u=e[je];if(u){if(!w&&u.lastIndexOf(t,0))return _n(d,2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void a("Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.",r);t=w?u:u[Me](/^(https?:)/,"");i.open("POST",t),e[Ve]&&(i[Ve]=e[Ve]),i.send(o),w&&n?E&&E.set(function(){i.send(o)},0):i.send(o)}else m(r)}function r(){P=0,T=C=y=h=p=_=i=!1,E=v=x=o=S=w=d=null}r(),e[be]=function(n,t){d=t,i&&_n(d,1,28,"Sender is already initialized"),e.SetConfig(n),i=!0},e._getDbgPlgTargets=function(){return[i,w,o,_]},e.SetConfig=function(n){try{var t;return S=n.senderOnCompleteCallBack||{},o=!!n.disableCredentials,x=n.fetchCredentials,w=!!n.isOneDs,_=!!n.enableSendPromise,p=!!n.disableXhr,h=!!n.disableBeacon,y=!!n.disableBeaconSync,E=n.timeWrapper,T=!!n.addNoResponse,C=!!n.disableFetchKeepAlive,v={sendPOST:f},w||(g=!1),o&&(t=typeof location===R&&location?location:yn("location"))&&t.protocol&&"file:"===t.protocol[de]()&&(g=!1),!0}catch(e){}return!1},e.getSyncFetchPayload=function(){return P},e.getSenderInst=function(n,t){if(n&&n[bn]){for(var e=n,r=t,i=0,o=null,u=0;null==o&&u<e[bn];)i=e[u],p||1!==i?2!==i||!jr(r)||r&&C?3!==i||!qr()||(r?y:h)||(o=c):o=l:(Kr=null===Kr&&(Kr=typeof XDomainRequest!==sn)&&Xr()?Kr&&!Fr(yn(Mr),"withCredentials"):Kr)?o=s:Xr()&&(o=f),u++;return o?{_transport:i,_isSync:r,sendPOST:o}:null}return null},e.getFallbackInst=function(){return v},e[Re]=function(n,t){r()}})}var lo="attachEvent",so="addEventListener",vo="detachEvent",po="removeEventListener",ho="events",yo="visibilitychange",go="pagehide",mo="pageshow",bo="beforeunload",_o=ii("aiEvtPageHide"),wo=ii("aiEvtPageShow"),So=/\.[\.]+/g,xo=/[\.]+$/,Co=1,To=oi("events"),Eo=/^([^.]*)(?:\.(.+)|)/;function Po(n){return n&&n[Me]?n[Me](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,d):n}function Oo(n,t){t&&(e=d,pn(t)?(e=d,gn(t,function(n){(n=Po(n))&&("."!==n[0]&&(n="."+n),e+=n)})):e=Po(t),e&&("."!==e[0]&&(e="."+e),n=(n||d)+e));var e,t=Eo.exec(n||d)||[];return{type:t[1],ns:(t[2]||d).replace(So,".").replace(xo,d)[De](".").sort().join(".")}}function Ro(n,t,e){n=To.get(n,ho,{},e=void 0===e||e);return n[t]||(n[t]=[])}function ko(n,t,e,r){n&&t&&t[Ne]&&(n[po]?n[po](t[Ne],e,r):n[vo]&&n[vo]("on"+t[Ne],e))}function Ao(n,t,e,r){for(var i=t[bn];i--;){var o=t[i];!o||e.ns&&e.ns!==o[Le].ns||r&&!r(o)||(ko(n,o[Le],o.handler,o.capture),t[ge](i,1))}}function Bo(n,t){return t?Oo("xx",pn(t)?[n].concat(t):[n,t]).ns[De]("."):n}function Io(n,t,e,r,i){void 0===i&&(i=!1);var o,u=!1;if(n)try{var a,c=Oo(t,r),f=c,l=e,s=i,d=!1;(o=n)&&f&&f[Ne]&&l&&(o[so]?(o[so](f[Ne],l,s),d=!0):o[lo]&&(o[lo]("on"+f[Ne],l),d=!0)),(u=d)&&To.accept(n)&&(a={guid:Co++,evtName:c,handler:e,capture:i},Ro(n,c.type)[S](a))}catch(v){}return u}function Do(n,t,e,r,i){if(void 0===i&&(i=!1),n)try{var o=Oo(t,r),u=!1,a=n,c=function(n){return!((!o.ns||e)&&n.handler!==e)&&(u=!0)};(f=o)[Ne]?Ao(a,Ro(a,f[Ne]),f,c):(hn(l=To.get(a,ho,{}),function(n,t){Ao(a,t,f,c)}),0===dn(l)[bn]&&To.kill(a,ho)),u||ko(n,o,e,i)}catch(s){}var f,l}function Mo(n,o,u,a){var c=!1;return o&&n&&0<n[bn]&&gn(n,function(n){var t,e,r,i;!n||u&&-1!==yt(u,n)||(n=n,t=o,e=a,r=!1,(i=et())&&(r=Io(i,n,t,e),r=Io(i.body,n,t,e)||r),i=tt(),c=(r=i&&Io(i,n,t,e)||r)||c)}),c}function No(n,i,o){n&&pn(n)&&gn(n,function(n){var t,e,r;n&&(n=n,t=i,e=o,(r=et())&&(Do(r,n,t,e),Do(r.body,n,t,e)),(r=tt())&&Do(r,n,t,e))})}var Lo="",Ko="timings",x="value",Ho="length",Fo="processTelemetryStart",zo=n.hasOwnProperty,Uo=((e={})[0]=0,e[2]=6,e[1]=1,e[3]=7,e[4098]=6,e[4097]=1,e[4099]=7,e);function qo(n){return n!==Lo&&!an(n)}function jo(n,t,e){var r=-1;return un(n)||(0<t&&(32===t?r=8192:t<=13&&(r=t<<5)),0<=e&&e<=9?(-1===r&&(r=0),r|=e):(t=Uo[function i(n){var t,e=0;return null!==n&&n!==undefined&&("string"==(t=typeof n)?e=1:"number"==t?e=2:"boolean"==t?e=3:t===R&&(e=4,pn(n)?(e=4096,0<n[Ho]&&(e|=i(n[0]))):zo.call(n,"value")&&(e=8192|i(n[x])))),e}(n)]||-1,-1!==r&&-1!==t?r|=t:6===t&&(r=t))),r}function Xo(){var r={},t=!1,n=0,e=arguments[Ho],i=arguments;for(U(i[0])&&(t=i[0],n++);n<e;n++)hn(i[n],function(e,n){t&&n&&Rn(n)?pn(n)?(r[e]=r[e]||[],gn(n,function(n,t){n&&Rn(n)?r[e][t]=Xo(!0,r[e][t],n):r[e][t]=n})):r[e]=Xo(!0,r[e],n):r[e]=n});return r}var Vo=wt;function Jo(n,t){n[Ko]=n[Ko]||{},n[Ko][Fo]=n[Ko][Fo]||{},n[Ko][Fo][t]=Vo()}function $o(n){return 0<n}var Wo="drop",L="requeue",Qo="no-cache, no-store",Go="application/x-json-stream",Yo="cache-control",Zo="content-type",nu="client-version",tu="client-id",eu="time-delta-to-apply-millis",ru="upload-time",iu="apikey",ou="AuthMsaDeviceTicket",uu="WebAuthToken",o="AuthXToken",au="msfpc",cu="user",fu="allowRequestSending",lu="shouldAddClockSkewHeaders",su="getClockSkewHeaderValue",du="setClockSkew",Sn="length",vu="concat",xn="iKey",Cn="count",pu="events",Tn="push",hu="split",yu="toLowerCase",gu="hdrs",mu="useHdrs",bu="initialize",_u="setTimeoutOverride",wu="clearTimeoutOverride",Su="avoidOptions",xu="enableCompoundKey",Cu="disableXhrSync",Tu="disableFetchKeepAlive",Eu="useSendBeacon",Pu="fetchCredentials",Ou="alwaysUseXhrOverride",Ru="serializeOfflineEvt",ku="getOfflineRequestDetails",Au="createPayload",Bu="createOneDSPayload",Iu="payloadBlob",fn="headers",Du="_thePayload",En="batches",ln="sendType",Mu="canSendRequest",Nu="sendQueuedRequests",Lu="setUnloading",Ku="sendSynchronousBatch",Hu="_transport",Fu="getWParam",zu="isBeacon",Uu="timings",qu="isTeardown",ju="_sendReason",Xu="setKillSwitchTenants",Vu="_backOffTransmission",Ju="identifier",$u="autoFlushEventsLimit",Wu="sendAttempt",Qu="latency",Gu="sync";function Yu(n){n=(n.ext||{}).intweb;return n&&qo(n[au])?n[au]:null}function Zu(n){for(var t=null,e=0;null===t&&e<n[Sn];e++)t=Yu(n[e]);return t}ta.create=function(n,t){return new ta(n,t)};var na=ta;function ta(r,n){var i=n?[][vu](n):[],n=this,o=Zu(i);n[xn]=function(){return r},n.Msfpc=function(){return o||""},n[Cn]=function(){return i[Sn]},n[pu]=function(){return i},n.addEvent=function(n){return!!n&&(i[Tn](n),o=o||Yu(n),!0)},n[hu]=function(n,t){var e;return n<i[Sn]&&(e=i[Sn]-n,an(t)||(e=t<e?t:e),e=i.splice(n,e),o=Zu(i)),new ta(r,e)}}ra.__ieDyn=1;var ea=ra;function ra(){var t=!0,e=!0,r=!0,i="use-collector-delta",o=!1;mn(ra,this,function(n){n[fu]=function(){return t},n.firstRequestSent=function(){r&&(r=!1,o||(t=!1))},n[lu]=function(){return e},n[su]=function(){return i},n[du]=function(n){o||(n?(i=n,o=e=!0):e=!1,t=!0)}})}oa.__ieDyn=1;var ia=oa;function oa(){var c={};mn(oa,this,function(n){n[Xu]=function(n,t){if(n&&t)try{o=n[hu](","),u=[],o&&gn(o,function(n){u[Tn](Et(n))});var e=u;if("this-request-only"===t)return e;for(var r=1e3*parseInt(t,10),i=0;i<e[Sn];++i)c[e[i]]=wt()+r}catch(a){return[]}var o,u;return[]},n.isTenantKilled=function(n){var t=c,n=Et(n);return t[n]!==undefined&&t[n]>wt()||(delete t[n],!1)}})}var ua=.8,aa=1.2,ca=3e3,fa=6e5;function la(n){var t=ca*ua,t=Pt(Math.random()*(ca*aa-t))+t;return Kn(Math.pow(2,n)*t,fa)}var sa=Kn(2e6,65e3),da="metadata",va=/\./,pa=(ha.__ieDyn=1,ha);function ha(t,n,b,e,r,i){var o="baseData",_=!!e,w=n,S={},u=!!i,l=r||jo;mn(ha,this,function(g){function m(n,s,d,v,p,h,y){hn(n,function(n,t){if(t||qo(t)){var e,r=d,i=n,o=p,u=s;if(_&&!v&&va.test(n)){var a=n.split("."),c=a.length;if(1<c){for(var o=o&&o.slice(),f=0;f<c-1;f++){var l=a[f],u=u[l]=u[l]||{};r+="."+l,o&&o.push(l)}i=a[c-1]}}(n=v&&((e=S[n=r])===undefined&&(7<=n.length&&(e=At(n,"ext.metadata")||At(n,"ext.web")),S[n]=e),e)||!w||!w.handleField(r,i)?function(n,t){if(!n&&!qo(n)||"string"!=typeof i)return null;var e=typeof n;if("string"==e||"number"==e||"boolean"==e||pn(n))n={value:n};else if("object"!=e||zo.call(n,"value")){if(an(n[x])||n[x]===Lo||!On(n[x])&&!z(n[x])&&!U(n[x])&&!pn(n[x]))return null}else n={value:t?JSON.stringify(n):n};if(pn(n[x])&&!(0<n[x][Ho]))return null;if(!an(n.kind)){if(pn(n[x])||!(0===(e=n.kind)||0<e&&e<=13||32===e))return null;n[x]=n[x].toString()}return n}(t,b):w.value(r,i,t,b))&&(e=n.value,u[i]=e,h&&h(o,i,n),y&&"object"==typeof e&&!pn(e)&&((n=o)&&(n=o.slice()).push(i),m(t,e,r+"."+i,v,n,h,y)))}})}g.createPayload=function(n,t,e,r,i,o){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:n,isTeardown:t,isSync:e,isBeacon:r,sendType:o,sendReason:i}},g.appendPayload=function(p,h,y){var n=p&&h&&!p.overflow;return n&&wn(t,function(){return"Serializer:appendPayload"},function(){for(var n=h.events(),t=p.payloadBlob,e=p.numEvents,r=!1,i=[],o=[],u=p.isBeacon,a=u?65e3:3984588,c=u?sa:2e6,f=0,l=0;f<n.length;){var s=n[f];if(s){if(y<=e){p.overflow=h.split(f);break}var d=g.getEventBlob(s);if(d&&d.length<=c){var v=d.length;if(a<t.length+v){p.overflow=h.split(f);break}t&&(t+="\n"),t+=d,20<++l&&(Un(t,0,1),l=0),r=!0,e++}else(d?i:o).push(s),n.splice(f,1),f--}f++}0<i.length&&p.sizeExceed.push(na.create(h.iKey(),i)),0<o.length&&p.failedEvts.push(na.create(h.iKey(),o)),r&&(p.batches.push(h),p.payloadBlob=t,p.numEvents=e,u=h.iKey(),-1===yt(p.apiKeys,u)&&p.apiKeys.push(u))},function(){return{payload:p,theBatch:{iKey:h.iKey(),evts:h.events()},max:y}}),n},g.getEventBlob=function(i){try{return wn(t,function(){return"Serializer.getEventBlob"},function(){var n,t={},f=(t.name=i.name,t.time=i.time,t.ver=i.ver,t.iKey="o:"+function(n){if(n){var t=kt(n,"-");if(-1<t)return zn(n,0,t)}return Lo}(i.iKey),{}),e=(u||(n=function(n,t,e){var r=f,i=n,n=t,t=e;if(t&&r){e=l(t.value,t.kind,t.propertyType);if(-1<e){var o=r[da],u=(u=(o=o||(r[da]={f:{}})).f)||(o.f={});if(i)for(var a=0;a<i.length;a++)var c=i[a],u=(u[c]||(u[c]={f:{}}),u[c].f||(u[c].f={}));u=u[n]={},pn(t.value)?u.a={t:e}:u.t=e}}}),i.ext),e=(e&&(t.ext=f,hn(e,function(n,t){m(t,f[n]={},"ext."+n,!0,null,null,!0)})),t.data={}),r=(e.baseType=i.baseType,e[o]={});return m(i.baseData,r,o,!1,[o],n,!0),m(i.data,e,"data",!1,[],n,!0),JSON.stringify(t)},function(){return{item:i}})}catch(n){return null}}})}function ya(i,o){return{set:function(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return function(n){return Dt(!0,n,K[b](arguments,1))}([i,o],n,t,e)}}}var ga="sendAttempt",ma="?cors=true&"+Zo[yu]()+"="+Go,ba=((r={})[1]=L,r[100]=L,r[200]="sent",r[8004]=Wo,r[8003]=Wo,r),_a={},wa={};function Sa(n,t,e){_a[n]=t,!1!==e&&(wa[t]=n)}function xa(n,t){var e=!1;if(n&&t){var r=dn(n);if(r&&0<r[Sn])for(var i=t[yu](),o=0;o<r[Sn];o++){var u=r[o];if(u&&p(t,u)&&u[yu]()===i){e=!0;break}}}return e}function Ca(n,t,e,r){t&&e&&0<e[Sn]&&(r&&_a[t]?(n[gu][_a[t]]=e,n[mu]=!0):n.url+="&"+t+"="+e)}Sa(ou,ou,!1),Sa(nu,nu),Sa(tu,"Client-Id"),Sa(iu,iu),Sa(eu,eu),Sa(ru,ru),Sa(o,o),Ea.__ieDyn=1;var Ta=Ea;function Ea(C,n,on,d){var T,E,P,O,R,k,A,B,I,D,M,N,L,K,H,F,z,U,q,j,X,V,J,$,W,Q,G,Y,Z,nn,tn,en,rn=!1;mn(Ea,this,function(y){T=null,E=new ia,P=!1,O=new ea,D=!(R=0),M=[],N={},L=[],$=[],Q=W=J=V=X=j=q=void 0,Z=ya(),Y=U=z=H=rn=!(G=[]);var t=!(tn=F=K=I=B=A=k=null);function f(n,t){try{return tn&&tn.getSenderInst(n,t)}catch(e){}return null}function l(){try{return{enableSendPromise:!1,isOneDs:!0,disableCredentials:!t,fetchCredentials:en,disableXhr:!1,disableBeacon:!rn,disableBeaconSync:!rn,disableFetchKeepAlive:X,timeWrapper:Z,addNoResponse:J,senderOnCompleteCallBack:{xdrOnComplete:e,fetchOnComplete:r,xhrOnComplete:i,beaconOnRetry:o}}}catch(n){}return null}function e(n,t,e){n=xr(n);g(t,200,{},n),s(n)}function r(n,t,e,r){var i={},o=n[fn];o&&o.forEach(function(n,t){i[t]=n}),g(t,n.status,i,o=e||""),s(o)}function i(n,t,e){var r=xr(n);g(t,n.status,Ar(n,!0),r),s(r)}function g(n,t,e,r){try{n(t,e,r)}catch(i){_n(A,2,518,cn(i))}}function o(n,t,e){var r=200,i=n[Du],o=n.urlString+(J?"&NoResponseBody=true":"");try{var u,a,c,f=rt();i?(u=!!I.getPlugin("LocalStorage"),a=[],c=[],gn(i[En],function(n){if(a&&n&&0<n[Cn]())for(var t=n[pu](),e=0;e<t[Sn];e++){if(!f.sendBeacon(o,K.getEventBlob(t[e]))){a[Tn](n[hu](e));break}c[Tn](n[e])}else a[Tn](n[hu](0))}),0<c[Sn]&&(i.sentEvts=c),u||x(a,8003,i[ln],!0)):r=0}catch(l){Fi(A,"Failed to send telemetry using sendBeacon API. Ex:"+cn(l)),r=0}finally{g(t,r,{},"")}}function m(n){return 2===n||3===n}function u(n){return z&&m(n)?2:n}function a(){return!P&&R<n}function c(){var n=L;return L=[],n}function v(n,t,e){return n&&0<n[Sn]&&!P&&B[t]&&K&&(0!==t||a()&&(0<e||O[fu]()))}function p(n){var e={};return n&&gn(n,function(n,t){e[t]={iKey:n[xn](),evts:n[pu]()}}),e}function b(a,c,f,l,s){if(a&&0!==a[Sn])if(P)x(a,1,l);else{l=u(l);try{var n=a,d=0!==l;wn(I,function(){return"HttpManager:_sendBatches"},function(n){n&&(a=a.slice(0));for(var t=[],e=null,r=Vo(),n=B[l]||(d?B[1]:B[0]),i=n&&n[Hu],o=V&&(z||m(l)||3===i||n._isSync&&2===i);v(a,l,c);){var u=a.shift();u&&0<u[Cn]()&&(E.isTenantKilled(u[xn]())?t[Tn](u):(e=e||K[Au](c,f,d,o,s,l),K.appendPayload(e,u,C)?null!==e.overflow&&(a=[e.overflow][vu](a),e.overflow=null,h(e,r,Vo(),s),r=Vo(),e=null):(h(e,r,Vo(),s),r=Vo(),a=[u][vu](a),e=null)))}e&&h(e,r,Vo(),s),0<a[Sn]&&(L=a[vu](L)),x(t,8004,l)},function(){return{batches:p(n),retryCount:c,isTeardown:f,isSynchronous:d,sendReason:s,useSendBeacon:m(l),sendType:l}},!d)}catch(t){_n(A,2,48,"Unexpected Exception sending batch: "+cn(t))}}}function _(n,t){var e={url:T,hdrs:{},useHdrs:!1},r=(t?(e[gu]=Xo(e[gu],N),e.useHdrs=0<dn(e.hdrs)[Sn]):hn(N,function(n,t){wa[n]?Ca(e,wa[n],t,!1):(e[gu][n]=t,e[mu]=!0)}),Ca(e,tu,"NO_AUTH",t),Ca(e,nu,"1DS-Web-JS-4.3.6",t),""),n=(gn(n.apiKeys,function(n){0<r[Sn]&&(r+=","),r+=n}),Ca(e,iu,r,t),Ca(e,ru,wt().toString(),t),function(n){for(var t=0;t<n.batches[Sn];t++){var e=n[En][t].Msfpc();if(e)return encodeURIComponent(e)}return""}(n));qo(n)&&(e.url+="&ext.intweb.msfpc="+n),O[lu]()&&Ca(e,eu,O[su](),t),I[Fu]&&0<=(n=I[Fu]())&&(e.url+="&w="+n);for(var i=0;i<M[Sn];i++)e.url+="&"+M[i].name+"="+M[i].value;return e}function w(n,t,e){n[t]=n[t]||{},n[t][k.identifier]=e}function h(p,a,c,h){var f,l,s,d,v;p&&p.payloadBlob&&0<p.payloadBlob[Sn]&&(f=!!W,l=B[p.sendType],!m(p[ln])&&p[zu]&&2===p.sendReason&&(l=B[2]||B[3]||l),d=U,!p.isBeacon&&3!==l[Hu]||(d=!1),s=_(p,d),d=d||s[mu],v=Vo(),wn(I,function(){return"HttpManager:_doPayloadSend"},function(){for(var n=0;n<p.batches[Sn];n++)for(var t=p[En][n][pu](),e=0;e<t[Sn];e++){var r,i=t[e];H&&(w(r=i[Uu]=i[Uu]||{},"sendEventStart",v),w(r,"serializationStart",a),w(r,"serializationCompleted",c)),0<i[ga]?i[ga]++:i[ga]=1}x(p[En],1e3+(h||0),p[ln],!0);var o={data:p[Iu],urlString:s.url,headers:s[gu],_thePayload:p,_sendReason:h,timeout:q,disableXhrSync:j,disableFetchKeepAlive:X},u=(d&&(xa(o[fn],Yo)||(o[fn][Yo]=Qo),xa(o[fn],Zo)||(o[fn][Zo]=Go)),null);l&&(u=function(n){O.firstRequestSent();var t=function(n,t){var e,r,i=p,o=h,u=9e3,a=null,c=!1,f=!1;try{var l,s=!0;if(typeof n!==sn){if(t&&(O[du](t["time-delta-millis"]),d=t["kill-duration"]||t["kill-duration-seconds"],gn(E[Xu](t["kill-tokens"],d),function(t){gn(i[En],function(n){n[xn]()===t&&(a=a||[],n=n[hu](0),i.numEvents-=n[Cn](),a[Tn](n))})})),200==n||204==n)return void(u=200);(300<=n&&n<500&&429!=n||501==n||505==n||i.numEvents<=0)&&(s=!1),u=9e3+n%1e3}s&&(u=100,l=i.retryCnt,0===i[ln]&&(l<on?(c=!0,S(function(){0===i[ln]&&R--,b(i[En],l+1,i[qu],z?2:i[ln],5)},z,la(l))):(f=!0,z&&(u=8001))))}finally{if(!c){O[du]();var t=i,d=u,n=o,s=f;try{s&&k[Vu]();var v=t[En];200===d&&(v=t.sentEvts||t[En],s||t.isSync||k._clearBackOff(),e=v,H&&(r=Vo(),gn(e,function(n){var t;n&&0<n[Cn]()&&(n=n[pu](),t=r,H&&gn(n,function(n){w(n[Uu]=n[Uu]||{},"sendEventCompleted",t)}))}))),x(v,d,t[ln],!0)}finally{0===t[ln]&&(R--,5!==n&&y.sendQueuedRequests(t[ln],n))}}x(a,8004,i[ln])}},e=p[qu]||p.isSync;try{l.sendPOST(n,t,e),Q&&Q(o,n,e,p[zu])}catch(r){Fi(A,"Unexpected exception sending payload. Ex:"+cn(r)),g(t,0,{})}}),wn(I,function(){return"HttpManager:_doPayloadSend.sender"},function(){var t,e;u&&(0===p[ln]&&R++,f&&!p.isBeacon&&3!==l[Hu]?(t={data:o.data,urlString:o.urlString,headers:Xo({},o[fn]),timeout:o.timeout,disableXhrSync:o[Cu],disableFetchKeepAlive:o[Tu]},e=!1,wn(I,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{W(t,function(n){e=!0,D||n[Du]||(n[Du]=n[Du]||o[Du],n[ju]=n[ju]||o[ju]),u(n)},p.isSync||p[qu])}catch(n){e||u(o)}})):u(o))})},function(){return{thePayload:p,serializationStart:a,serializationCompleted:c,sendReason:h}},p.isSync)),p.sizeExceed&&0<p.sizeExceed[Sn]&&x(p.sizeExceed,8003,p[ln]),p.failedEvts&&0<p.failedEvts[Sn]&&x(p.failedEvts,8002,p[ln])}function S(n,t,e){t?n():Z.set(n,e)}function s(n){var t=G;try{for(var e,r=0;r<t[Sn];r++)try{t[r](n)}catch(i){_n(A,1,519,"Response handler failed: "+i)}n&&qo((e=JSON.parse(n)).webResult)&&qo(e.webResult[au])&&F.set("MSFPC",e.webResult[au],31536e3)}catch(o){}}function x(t,e,r,n){var i,o,u;t&&0<t[Sn]&&d&&(i=d[qo(u=ba[e])||(u="oth",9e3<=e&&e<=9999?u="rspFail":8e3<=e&&e<=8999?u=Wo:1e3<=e&&e<=1999&&(u="send")),u])&&wn(I,function(){return"HttpManager:_sendBatchesNotification"},function(){S(function(){try{i.call(d,t,e,o,r)}catch(n){_n(A,1,74,"send request notification failed: "+n)}},n||o,0)},function(){return{batches:p(t),reason:e,isSync:o,sendSync:n,sendType:r}},!(o=0!==r))}y[bu]=function(n,a,c){Y||(F=(I=a).getCookieMgr(),A=(k=c).diagLog(),pt($,Ei(n,function(n){var t,e=n.cfg,n=n.cfg.extensionConfig[c.identifier],r=(Z=ya(n[_u],n[wu]),qo(e.anonCookieName)?function(n,t,e){for(var r=0;r<n[Sn];r++)if(n[r].name===t)return n[r].value=e;n[Tn]({name:t,value:e})}(M,"anoncknm",e.anonCookieName):function(n){for(var t=0;t<n[Sn];t++)if("anoncknm"===n[t].name)return n.splice(t,1)}(M),W=n.payloadPreprocessor,Q=n.payloadListener,n.httpXHROverride),i=n.overrideEndpointUrl||e.endpointUrl,i=(T=i+ma,U=!!un(n[Su])||!n[Su],H=!n.disableEventTimings,n.valueSanitizer),o=n.stringifyObjects,e=!!e[xu],i=(un(n[xu])||(e=!!n[xu]),q=n.xhrTimeout,j=!!n[Cu],X=!!n[Tu],J=!1!==n.addNoResponse,nn=!!n.excludeCsMetaData,a.getPlugin("LocalStorage")&&(X=!0),rn=!Ur(),K=new pa(I,i,o,e,jo,nn),an(n[Eu])||(rn=!!n[Eu]),n[Pu]&&(en=n[Pu]),l()),o=(tn?tn.SetConfig(i):(tn=new co)[bu](i,A),r),e=n[Ou]?r:null,i=n[Ou]?r:null,u=[3,2];r||(D=!1,t=[],Ur()?(t=[2,1],u=[2,1,3]):t=[1,2,3],(r=f(t=Tr(t,n.transports),!1))||Fi(A,"No available transport to send events"),o=f(t,!0)),e=e||f(u=Tr(u,n.unloadTransports),!0),V=!D&&(rn&&qr()||!X&&jr(!0)),(t={})[0]=r,t[1]=o||f([1,2,3],!0),t[2]=e||o||f([1],!0),t[3]=i||f([2,3],!0)||o||f([1],!0),B=t})),Y=!0)},y.addResponseHandler=function(t){return G[Tn](t),{rm:function(){var n=G.indexOf(t);0<=n&&G.splice(n,1)}}},y[Ru]=function(n){try{if(K)return K.getEventBlob(n)}catch(t){}return""},y[ku]=function(){try{return _(K&&K[Au](0,!1,!1,!1,1,0),U)}catch(n){}return null},y[Bu]=function(n,t){try{for(var e=[],r=(gn(n,function(n){t&&(n=Sr(n));n=na.create(n[xn],[n]);e[Tn](n)}),null);0<e[Sn]&&K;){var i=e.shift();i&&0<i[Cn]()&&(r=r||K[Au](0,!1,!1,!1,1,0),K.appendPayload(r,i,C))}var o=_(r,U),u={data:r[Iu],urlString:o.url,headers:o[gu],timeout:q,disableXhrSync:j,disableFetchKeepAlive:X};return U&&(xa(u[fn],Yo)||(u[fn][Yo]=Qo),xa(u[fn],Zo)||(u[fn][Zo]=Go)),u}catch(a){}return null},y._getDbgPlgTargets=function(){return[B[0],E,K,B,l(),T]},y.addHeader=function(n,t){N[n]=t},y.removeHeader=function(n){delete N[n]},y[Mu]=function(){return a()&&O[fu]()},y[Nu]=function(n,t){un(n)&&(n=0),z&&(n=u(n),t=2),v(L,n,0)&&b(c(),0,!1,n,t||0)},y.isCompletelyIdle=function(){return!P&&0===R&&0===L[Sn]},y[Lu]=function(n){z=n},y.addBatch=function(n){if(n&&0<n[Cn]()){if(E.isTenantKilled(n[xn]()))return!1;L[Tn](n)}return!0},y.teardown=function(){0<L[Sn]&&b(c(),0,!0,2,2),gn($,function(n){n&&n.rm&&n.rm()}),$=[]},y.pause=function(){P=!0},y.resume=function(){P=!1,y[Nu](0,4)},y[Ku]=function(n,t,e){n&&0<n[Cn]()&&(an(t)&&(t=1),z&&(t=u(t),e=2),b([n],0,!1,t,e||0))}})}var Pa="eventsDiscarded",n=undefined,Oa=function Ia(n){return nn&&hn(n,function(n,t){(pn(t)||Rn(t))&&Ia(t)}),on(n)}({eventsLimitInMem:{isVal:$o,v:1e4},immediateEventLimit:{isVal:$o,v:500},autoFlushEventsLimit:{isVal:$o,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:function(n){return n&&n.sendPOST},v:n},overrideInstrumentationKey:n,overrideEndpointUrl:n,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:n,clearTimeoutOverride:n,payloadPreprocessor:n,payloadListener:n,disableEventTimings:n,valueSanitizer:n,stringifyObjects:n,enableCompoundKey:n,disableOptimizeObj:!1,fetchCredentials:n,transports:n,unloadTransports:n,useSendBeacon:n,disableFetchKeepAlive:n,avoidOptions:!1,xhrTimeout:n,disableXhrSync:n,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:z,v:6},maxUnloadEventRetryAttempts:{isVal:z,v:2},addNoResponse:n,excludeCsMetaData:n}),Ra=Ba,e=ka=N;Nt(Ra,e),Ra[c]=(Aa[c]=e[c],new Aa),Ba.__ieDyn=1;var ka,L=Ba;function Aa(){this.constructor=Ra}function Ba(){var D,M,N,L,K,H,F,z,U,q,j,X,V,J,$,W,Q,G,Y,Z,nn,tn,en,rn,on,un,n=ka.call(this)||this,an=(n.identifier="PostChannel",n.priority=1011,!(n.version="4.3.6")),cn=[],fn=!1,ln=0,sn=0,dn={},vn=Pn;return mn(Ba,n,function(d,r){function v(){var n;No([bo,"unload",go],null,Y),n=Bo(_o,Y),No([go],null,n),No([yo],null,n),n=Bo(wo,Y),No([mo],null,n),No([yo],null,n)}function e(n){var t="";return n&&n[Sn]&&gn(n,function(n){t&&(t+="\n"),t+=n}),t}function i(n){var t="";try{u(n),t=U[Ru](n)}catch(e){}return t}function p(n){"beforeunload"!==(n||et().event).type&&(W=!0,U[Lu](W)),g(2,2)}function h(n){W=!1,U[Lu](W)}function u(n){n.ext&&n.ext.trace&&delete n.ext.trace,n.ext&&n.ext[cu]&&n.ext[cu].id&&delete n.ext[cu].id,$&&(n.ext=Sr(n.ext),n.baseData&&(n.baseData=Sr(n.baseData)),n.data&&(n.data=Sr(n.data)))}function o(n,t){if(n[Wu]||(n[Wu]=0),n[Qu]||(n[Qu]=1),u(n),n[Gu])if(F||fn)n[Qu]=3,n[Gu]=!1;else if(U)return $&&(n=Sr(n)),U[Ku](na.create(n[xn],[n]),!0===n[Gu]?1:n[Gu],3);var e=n[Qu],r=sn,i=L,o=(4===e&&(r=ln,i=N),!1);r<i?o=!_(n,t):(r=1,i=20,4===e&&(r=4,i=1),o=!0,function(n,t,e,r){for(;e<=t;){var i=m(n,t,!0);if(i&&0<i[Cn]()){var i=i[hu](0,r),o=i[Cn]();if(0<o)return 4===e?ln-=o:sn-=o,P(Pa,[i],se.QueueFull),1}e++}return w(),0}(n[xn],n[Qu],r,i)&&(o=!_(n,t))),o&&E(Pa,[n],se.QueueFull)}var t,a,n;function c(n,t,e){S(n,t,e),U[Nu](t,e)}function f(){0<=V&&S(V,0,J)&&U[Nu](0,J),0<ln&&!H&&!fn&&0<=(n=dn[vn][2])&&(H=s(function(){H=null,c(4,0,1),f()},n));var n=dn[vn][1];!K&&!M&&0<=n&&!fn&&(0<sn?K=s(function(){K=null,c(0===z?3:1,0,1),z++,z%=2,f()},n):z=0)}function l(){an=!1,fn=!(cn=[]),L=1e4,dn={},vn=Pn,rn=!(q={}),X=j=z=F=sn=ln=0,V=-1,W=!($=!(J=H=K=M=D=null)),Q=6,on=Y=null,un=!(G=2),Z=ya(),U=new Ta(N=500,2,1,{requeue:C,send:O,sent:R,drop:k,rspFail:A,oth:B}),x(),q[4]={batches:[],iKeyMap:{}},q[3]={batches:[],iKeyMap:{}},q[2]={batches:[],iKeyMap:{}},q[1]={batches:[],iKeyMap:{}},I()}function s(n,t){0===t&&F&&(t=1);var e=1e3;return F&&(e=la(F-1)),Z.set(n,t*e)}function y(){return null!==K&&(K.cancel(),K=null,!(z=0))}function g(n,t){y(),M&&(M.cancel(),M=null),fn||c(1,n,t)}function m(n,t,e){var r=q[t],t=(r=r||q[t=1]).iKeyMap[n];return!t&&e&&(t=na.create(n),r.batches[Tn](t),r.iKeyMap[n]=t),t}function b(n,t){U[Mu]()&&!F&&(t=0<j&&j<sn||t)&&null==M&&d.flush(n,function(){},20)}function _(n,t){var e=(n=$?Sr(n):n)[Qu],r=m(n[xn],e,!0);return r.addEvent(n)&&(4!==e?(sn++,t&&0===n[Wu]&&b(!n.sync,0<X&&r[Cn]()>=X)):ln++,1)}function w(){for(var e=0,r=0,n=1;n<=4;n++)!function(t){var n=q[t];n&&n[En]&&gn(n[En],function(n){4===t?e+=n[Cn]():r+=n[Cn]()})}(n);sn=r,ln=e}function S(r,n,t){var i=!1,e=0===n;return!e||U[Mu]()?wn(d.core,function(){return"PostChannel._queueBatches"},function(){for(var t=[],e=4;r<=e;){var n=q[e];n&&n.batches&&0<n.batches[Sn]&&(gn(n[En],function(n){U.addBatch(n)?i=i||n&&0<n[Cn]():t=t[vu](n[pu]()),4===e?ln-=n[Cn]():sn-=n[Cn]()}),n[En]=[],n.iKeyMap={}),e--}0<t[Sn]&&E(Pa,t,se.KillSwitch),i&&r<=V&&(V=-1,J=0)},function(){return{latency:r,sendType:n,sendReason:t}},!e):(V=0<=V?Kn(V,r):r,J=Hn(J,t)),i}function x(){dn={REAL_TIME:[2,1,0],NEAR_REAL_TIME:[6,3,0],BEST_EFFORT:[18,9,0]}}function C(n,t){var e=[],r=W?G:Q;gn(n,function(n){n&&0<n[Cn]()&&gn(n[pu](),function(n){n&&(n[Gu]&&(n[Qu]=4,n[Gu]=!1),n[Wu]<r?(Jo(n,d[Ju]),o(n,!1)):e[Tn](n))})}),0<e[Sn]&&E(Pa,e,se.NonRetryableStatus),W&&g(2,2)}function T(n,t){var e=en||{},r=e[n];if(r)try{r.apply(e,t)}catch(i){_n(d.diagLog(),1,74,n+" notification failed: "+i)}}function E(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];t&&0<t[Sn]&&T(n,[t][vu](e))}function P(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];n&&0<n[Sn]&&gn(n,function(n){n&&0<n[Cn]()&&T(t,[n.events()][vu](e))})}function O(n,t,e){n&&0<n[Sn]&&T("eventsSendRequest",[1e3<=t&&t<=1999?t-1e3:0,!0!==e])}function R(n,t){P("eventsSent",n,t),f()}function k(n,t){P(Pa,n,8e3<=t&&t<=8999?t-8e3:se.Unknown)}function A(n){P(Pa,n,se.NonRetryableStatus),f()}function B(n,t){P(Pa,n,se.Unknown),f()}function I(){X=tn?0:Hn(1500,L/6)}l(),d._getDbgPlgTargets=function(){return[U,D]},d[bu]=function(t,s,e){wn(s,function(){return"PostChannel:initialize"},function(){r[bu](t,s,e),en=s.getNotifyMgr();try{Y=Bo(ii(d[Ju]),s.evtNamespace&&s.evtNamespace()),d._addHook(Ei(t,function(n){var t,e,n=n.cfg,r=Zi(null,n,s),r=(D=r.getExtCfg(d[Ju],Oa),Z=ya(D[_u],D[wu]),$=!D.disableOptimizeObj&&!!yn("chrome"),nn=D.ignoreMc1Ms0CookieProcessing,e=(t=s)[Fu],t[Fu]=function(){var n=0;return nn&&(n|=2),n|e.call(t)},L=D.eventsLimitInMem,N=D.immediateEventLimit,j=D[$u],Q=D.maxEventRetryAttempts,G=D.maxUnloadEventRetryAttempts,tn=D.disableAutoBatchFlushLimit,kn(n.endpointUrl)?d.pause():fn&&d.resume(),I(),on=D.overrideInstrumentationKey,un=!!D.disableTelemetry,rn&&v(),n.disablePageUnloadEvents||[]),i=r,o=Y,u=[bo,"unload",go],a=!1,c=p;rn=pn(u)&&!(a=Mo(u,c,i,o))&&i&&0<i[bn]?Mo(u,c,null,o):a,rn=function f(e,n,t){var r=Bo(_o,t),i=Mo([go],e,n,r);return!(i=(!n||-1===yt(n,yo))&&Mo([yo],function(n){var t=tt();e&&t&&"hidden"===t.visibilityState&&e(n)},n,r)||i)&&n?f(e,null,t):i}(p,r,Y)||rn,rn=function l(e,n,t){var r=Bo(wo,t),i=Mo([mo],e,n,r);return!(i=Mo([yo],function(n){var t=tt();e&&t&&"visible"===t.visibilityState&&e(n)},n,r)||i)&&n?l(e,null,t):i}(h,n.disablePageShowEvents,Y)||rn})),U[bu](t,d.core,d)}catch(n){throw d.setInitialized(!1),n}},function(){return{theConfig:t,core:s,extensions:e}})},d.processTelemetry=function(n,t){Jo(n,d[Ju]),t=t||d._getTelCtx(t);un||an||(on&&(n[xn]=on),o(n,!0),W?g(2,2):f()),d.processNext(n,t)},d.getOfflineSupport=function(){try{var n=U&&U[ku]();if(U)return{getUrl:function(){return n?n.url:null},serialize:i,batch:e,shouldProcess:function(n){return!un},createPayload:function(n){return null},createOneDSPayload:function(n){if(U[Bu])return U[Bu](n,$)}}}catch(t){}return null},d._doTeardown=function(n,t){g(2,2),an=!0,U.teardown(),v(),l()},d.setEventQueueLimits=function(n,t){D.eventsLimitInMem=L=0<n?n:1e4,D[$u]=j=0<t?t:0,I();var e=n<sn;if(!e&&0<X)for(var r=1;!e&&r<=3;r++){var i=q[r];i&&i[En]&&gn(i[En],function(n){n&&n[Cn]()>=X&&(e=!0)})}b(!0,e)},d.pause=function(){y(),fn=!0,U&&U.pause()},d.resume=function(){fn=!1,U&&U.resume(),f()},d._loadTransmitProfiles=function(n){y(),x(),vn=Pn,f(),hn(n,function(n,t){var e,r=t[Sn];2<=r&&(e=2<r?t[2]:0,t.splice(0,r-2),t[1]<0&&(t[0]=-1),0<t[1]&&0<t[0]&&(r=t[0]/t[1],t[0]=Ot(r)*t[1]),0<=e&&0<=t[1]&&e>t[1]&&(e=t[1]),t[Tn](e),dn[n]=t)})},d.flush=function(n,t,e){var r;return void 0===n&&(n=!0),fn||(e=e||1,n?(t||(r=cr(function(n){t=n})),null==M?(y(),S(1,0,e),M=s(function(){M=null,function r(n,t){c(1,0,t),w(),function e(n){U.isCompletelyIdle()?n():M=s(function(){M=null,e(n)},.25)}(function(){n&&n(),0<cn[Sn]?M=s(function(){M=null,r(cn.shift(),t)},0):(M=null,f())})}(t,e)},0)):cn[Tn](t)):(n=y(),c(1,1,e),t&&t(),n&&f())),r},d.setMsaAuthTicket=function(n){U.addHeader(ou,n)},d.setAuthPluginHeader=function(n){U.addHeader(uu,n)},d.removeAuthPluginHeader=function(){U.removeHeader(uu)},d.hasEvents=function(){return 0<sn},d._setTransmitProfile=function(n){vn!==n&&dn[n]!==undefined&&(y(),vn=n,f())},a=function(){return U},n=["addResponseHandler"],(t=d)&&a&&Rn(t)&&pn(n)&&gn(n,function(n){On(n)&&wr(t,n,a,n,void 0)}),d[Vu]=function(){F<4&&(F++,y(),f())},d._clearBackOff=function(){F&&(F=0,y(),f())}}),n}a.BE_PROFILE="BEST_EFFORT",a.NRT_PROFILE="NEAR_REAL_TIME",a.PostChannel=L,a.RT_PROFILE=Pn});
//# sourceMappingURL=ms.post-4.3.6.min.js.map
